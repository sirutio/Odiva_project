{% extends "index.html" %}

{% block style %}
<style>
    :root {
        --bg: #f6f7f9;
        --surface: #fff;
        --border: #e5e7eb;
        --primary: rgb(0, 70, 42);
        --radius: 16px;
        --shadow: 0 8px 24px rgba(0, 0, 0, .06);
    }


    .main-container {
        max-width: 1000px; /* ë„ˆë¹„ë¥¼ 800px -> 1000pxë¡œ í™•ëŒ€ */
        margin: 0 auto;
        padding: 60px 20px; /* ìƒí•˜ ì—¬ë°±ë„ ì¢€ ë” ë„‰ë„‰í•˜ê²Œ */
    }

    .page-title {
        font-size: 32px; /* ì œëª© í°íŠ¸ í‚¤ì›€ */
        font-weight: bold;
        margin-bottom: 30px;
        color: #1f2937;
    }

    .back-link {
        display: inline-block;
        margin-bottom: 15px;
        color: #6b7280;
        font-size: 16px; /* ë§í¬ í°íŠ¸ í‚¤ì›€ */
        text-decoration: none;
    }
    .back-link:hover {
        text-decoration: underline;
    }

    /* --- í¼(Form) ì¹´ë“œ ìŠ¤íƒ€ì¼ --- */
    form {
        background: var(--surface);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        padding: 50px; /* ë‚´ë¶€ ì—¬ë°± í™•ëŒ€ */
        display: flex;
        flex-wrap: wrap;
        gap: 30px;       /* ìš”ì†Œ ê°„ ê°„ê²© í™•ëŒ€ (20px -> 30px) */
    }

    /* --- ì…ë ¥ ìš”ì†Œ ìŠ¤íƒ€ì¼ (ì‚¬ì´ì¦ˆ UP) --- */
    label {
        display: block;
        font-size: 16px; /* ë¼ë²¨ í°íŠ¸ í‚¤ì›€ */
        color: #374151;
        margin-bottom: 10px; /* ë¼ë²¨ê³¼ ì…ë ¥ì°½ ì‚¬ì´ ê°„ê²© í™•ëŒ€ */
        font-weight: 700;
    }

    input[type="text"],
    input[type="email"],
    select {
        width: 100%;
        border: 1px solid var(--border);
        border-radius: 12px;
        padding: 14px 16px; /* ì…ë ¥ì°½ ë‚´ë¶€ ì—¬ë°±ì„ ëŠ˜ë ¤ ë†’ì´ë¥¼ í‚¤ì›€ */
        background: #fafafa;
        outline: none;
        box-sizing: border-box;
        font-size: 16px; /* ì…ë ¥ ê¸€ì”¨ í¬ê¸° í‚¤ì›€ */
    }

    input:focus, select:focus {
        border-color: #c7c9d1;
        background: #fff;
    }

    /* --- ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ (ê°„ê²© ë³€ê²½ì— ë”°ë¥¸ ê³„ì‚° ìˆ˜ì •) --- */
    /* gapì´ 30pxë¡œ ëŠ˜ì–´ë‚¬ìœ¼ë¯€ë¡œ ê³„ì‚°ì‹ ìˆ˜ì • */
    .col1 { width: 100%; }
    .col2 { width: calc(50% - 15px); } 
    .col3 { width: calc(33.33% - 20px); }

    @media (max-width: 768px) {
        .col2, .col3 { width: 100%; }
        .main-container { padding: 20px; }
        form { padding: 20px; }
    }

    /* --- íŒŒì¼ ì—…ë¡œë“œ --- */
    .uploader {
        border: none;
        padding: 0;
        margin: 0;
        width: 100%;
    }
    
    .file-input-wrapper {
        position: relative;
        width: 100%;
        height: 150px; /* ë°•ìŠ¤ ë†’ì´ í‚¤ì›€ */
        border: 2px dashed #cdd3db;
        border-radius: 14px;
        background: #fbfbfd;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: background 0.2s;
    }

    .file-input-wrapper:hover {
        background: #f4f6fb;
    }

    .file-input-wrapper input[type="file"] {
        position: absolute;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: pointer;
    }

    .drop-hint { font-size: 16px; color: #6b7280; font-weight: 500; }
    .sub-hint { font-size: 14px; color: #9ca3af; margin-top: 8px; }

    /* --- ì œì¶œ ë²„íŠ¼ --- */
    .submit-area {
        width: 100%;
        text-align: center;
        margin-top: 30px;
    }

    input[type="submit"] {
        background: var(--primary);
        color: #fff;
        border: none;
        padding: 16px 40px; /* ë²„íŠ¼ í¬ê¸° í™•ëŒ€ */
        border-radius: 12px;
        font-size: 18px; /* ë²„íŠ¼ ê¸€ì”¨ í™•ëŒ€ */
        font-weight: bold;
        cursor: pointer;
        transition: filter 0.2s;
    }

    input[type="submit"]:hover {
        filter: brightness(0.9);
    }
</style>
{% endblock style %}

{% block section %}
<div class="main-container">
    <a class="back-link" href="/list">â† ìƒí’ˆ ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>
    <h1 class="page-title">ìƒí’ˆ ë“±ë¡ (Add New Product)</h1>

    <form action="/submit_item_post" enctype="multipart/form-data" method="post">
        
        <div class="col1">
            <label for="name">ìƒí’ˆëª… (Item Name)</label>
            <input type="text" name="name" id="name" placeholder="ìƒí’ˆ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" required>
        </div>

        <div class="col2">
            <label for="seller">íŒë§¤ì ID (Seller ID)</label>
            <input type="text" name="seller" id="seller" required>
        </div>

        <div class="col2">
            <label for="phone">ì „í™”ë²ˆí˜¸ (Phone)</label>
            <input type="text" name="phone" id="phone" placeholder="010-0000-0000">
        </div>

        <div class="col2">
            <label for="email">ì´ë©”ì¼ (Email)</label>
            <input type="text" name="email" id="email" required>
        </div>

        <div class="col2">
            <label for="addr">ê±°ë˜ ì¥ì†Œ (Address)</label>
            <input type="text" name="addr" id="addr" required>
        </div>

        <div class="col3">
            <label for="category">ì¹´í…Œê³ ë¦¬</label>
            <select id="category" name="category">
                <option value="Clothes" selected>ì˜ë¥˜ (Clothes)</option>
                <option value="Beauty">ë·°í‹° (Beauty)</option>
                <option value="Books">ë„ì„œ (Books)</option>
                <option value="Furniture">ê°€êµ¬ (Furniture)</option>
                <option value="Electronics">ì „ìì œí’ˆ</option>
                <option value="ETC">ê¸°íƒ€ (ETC)</option>
            </select>
        </div>

        <div class="col3">
            <label for="status">ìƒí’ˆ ìƒíƒœ</label>
            <select id="status" name="status">
                <option value="new" selected>ìƒˆ ìƒí’ˆ (New)</option>
                <option value="lnew">ê±°ì˜ ìƒˆ ê²ƒ (Likely New)</option>
                <option value="used">ì¤‘ê³  (Used)</option>
            </select>
        </div>

        <div class="col3">
            <label for="card">ì¹´ë“œê²°ì œ ì—¬ë¶€</label>
            <select id="card" name="card">
                <option value="Y" selected>ê°€ëŠ¥ (Yes)</option>
                <option value="N">ë¶ˆê°€ëŠ¥ (No)</option>
            </select>
        </div>

        <fieldset class="uploader">
            <label>ëŒ€í‘œ ì´ë¯¸ì§€ ì—…ë¡œë“œ</label>
            <div class="file-input-wrapper">
                <input type="file" name="file" id="img" required>
                <span class="drop-hint">ğŸ“ ì´ë¯¸ì§€ë¥¼ í´ë¦­í•˜ê±°ë‚˜ ë“œë˜ê·¸í•˜ì„¸ìš”</span>
                <span class="sub-hint">ëŒ€í‘œ ì´ë¯¸ì§€ 1ì¥ì„ ì„ íƒí•´ì£¼ì„¸ìš”</span>
            </div>
        </fieldset>

        <div class="submit-area">
            <input type="submit" value="ìƒí’ˆ ë“±ë¡í•˜ê¸° (Submit)">
        </div>

    </form>
</div>

<script>
    // 1. íŒŒì¼ ì„ íƒì°½(input)ê³¼ ê¸€ì(span) ìš”ì†Œë¥¼ ì°¾ì•„ì˜µë‹ˆë‹¤.
    const fileInput = document.querySelector('#img');
    const fileLabel = document.querySelector('.drop-hint');
    const subHint = document.querySelector('.sub-hint');

    // 2. ì‚¬ìš©ìê°€ íŒŒì¼ì„ ì„ íƒí•˜ê±°ë‚˜ ë°”ê¿€ ë•Œë§ˆë‹¤ ì‹¤í–‰ë˜ëŠ” 'ì´ë²¤íŠ¸'ë¥¼ ê²ë‹ˆë‹¤.
    fileInput.addEventListener('change', () => {
        // íŒŒì¼ì´ í•˜ë‚˜ë¼ë„ ì„ íƒë˜ì—ˆë‹¤ë©´?
        if (fileInput.files.length > 0) {
            const fileName = fileInput.files[0].name; // íŒŒì¼ ì´ë¦„ ê°€ì ¸ì˜¤ê¸°
            
            // 3. í™”ë©´ì˜ ê¸€ìë¥¼ íŒŒì¼ ì´ë¦„ìœ¼ë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤.
            fileLabel.textContent = "âœ… íŒŒì¼ ì„ íƒ ì™„ë£Œ: " + fileName;
            fileLabel.style.color = "#27ae60"; // ì´ˆë¡ìƒ‰ìœ¼ë¡œ ë³€ê²½
            fileLabel.style.fontWeight = "bold";
            
            // ë³´ì¡° ë¬¸êµ¬ëŠ” ìˆ¨ê¹ë‹ˆë‹¤.
            subHint.style.display = "none";
        } else {
            // íŒŒì¼ ì„ íƒì„ ì·¨ì†Œí–ˆë‹¤ë©´ ì›ë˜ëŒ€ë¡œ ë˜ëŒë¦¼
            fileLabel.textContent = "ğŸ“ ì´ë¯¸ì§€ë¥¼ í´ë¦­í•˜ê±°ë‚˜ ë“œë˜ê·¸í•˜ì„¸ìš”";
            fileLabel.style.color = "#6b7280";
            subHint.style.display = "block";
        }
    });
</script>

{% endblock section %}